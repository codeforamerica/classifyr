<div class="p-3 border-b">
  <h2 class="jumbo">
    <%= @term.value %>
  </h2>
  <br>
</div>

<div class="overflow-x-auto">
  <table>
    <thead>
    <tr>
      <% @headings.each do |header| %>
        <th scope="col" class="text-xs">
          <%= header %>
        </th>
      <% end %>
    </tr>
    </thead>
    <tbody>

    <% @data.each do |rows| %>
      <tr>
        <% rows.each do |column| %>
          <td>
            <%= column %>
          </td>
        <% end %>
      </tr>
    <% end %>
    </tbody>
  </table>
</div>


<div class="mt-12 p-6 shadow-lg rounded-lg text-gray-700">
  <h3 class="font-semibold text-2xl">Common Incident Type</h3>
  <p class="mb-5">
    <%= link_to 'APCO 2.103.2-2019', 'https://www.apcointl.org/~documents/standard/21032-2019-common-incident-type-for-data-exchange/', target: "_blank", class: "font-light  text-indigo-600 hover:text-indigo-500" %>
  </p>

  <form>

    <div data-controller="autocomplete" data-autocomplete-url-value="/common_incident_types/search" class="relative mt-1">
      <div class="relative w-full text-gray-400 focus-within:text-gray-600">
        <div class="absolute inset-y-0 left-0 flex items-center pointer-events-none">
          <!-- Heroicon name: solid/search -->
          <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
            <path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" clip-rule="evenodd"/>
          </svg>
        </div>
        <input type="text" data-autocomplete-target="input" class="ml-6 rounded-md border border-white bg-white py-2 pl-3 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500 sm:text-sm max-w-4xl" role="combobox" aria-controls="options" aria-expanded="false" style="width: 700px" placeholder="Search Common Incident Types for <%= @term.value %>"/>
        <input type="hidden" name="search_term" data-autocomplete-target="hidden"/>
        <ul class="ml-6 list-group absolute z-10 mt-1 max-h-60 overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm max-w-4xl" data-autocomplete-target="results" style="width: 700px">
        </ul>
      </div>

      <%#= select_tag :common_incident_type, options_for_select(@common_incident_types), include_blank: true, autocomplete: 'on', class: "block shadow border border-gray-300 outline-none px-3 py-2 mt-2 max-w-xl" %>
      <div class="mb-12">
        <fieldset>
          <div class="ml-10 mt-4 space-y-4">
            <div class="relative flex items-start">
              <div class="flex items-center h-5">
                <%= check_box_tag :unknown, '1', false, class: "focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded", data: { controller: 'classifications', action: 'click->classifications#updateButton' } %>
              </div>
              <div class="ml-3 text-sm">
                <label for="data_set_has_911" class="text-indigo-600">
                  Unable to map "<%= @term.value %>"

                </label>
                <p class="text-gray-500">Unable to map this call type to an appropriate Common Incident Code</p>
              </div>
            </div>
          </div>
        </fieldset>
      </div>

      <div class="inline">
        <%= link_to 'Map Call Type', classifications_path, method: :get, id: 'map_button', class: "button" %>
        <%= link_to 'Cancel', classifications_path, class: "button-secondary" %>
      </div>
    </div>
  </form>

</div>
